(this["webpackJsonpblog.1.0"]=this["webpackJsonpblog.1.0"]||[]).push([[0],{127:function(e,t,n){e.exports=n(233)},132:function(e,t,n){},136:function(e,t,n){},202:function(e,t){},233:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(9),c=n.n(o),i=(n(132),n(133),n(134),n(135),n(136),n(7)),l=n(19),s=n(10),u=n(5),m=n(11),p=n.n(m),d=n(21),f=n.n(d),E=n(114),g=n.n(E),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var r=g.a.v4();a({type:"SET_ALERT",payload:{msg:e,type:t,id:r}}),setTimeout((function(){return a({type:"REMOVE_ALERT",payload:r})}),n)}},h=function(e){return function(t){var n;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(f()("/api/posts/".concat(e)));case 2:n=a.sent,t({type:"GET_POST_BY_ID",payload:n.data});case 4:case"end":return a.stop()}}))}},v=function(e){return function(t){return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(f.a.delete("/api/posts/".concat(e)));case 3:t({type:"DELETE_POST",payload:e}),t(b("Post removed","success")),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(b(n.t0.response.data,"danger"));case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},x=n(32),y=n(55),O=n.n(y),j=n(8);function k(){var e=Object(i.a)(["\n  padding: 0 0.8em 0 0.8em;\n  z-index: 0;\n  height: 1.3em;\n"]);return k=function(){return e},e}function w(){var e=Object(i.a)(["\n  padding: 0.3em 0.6em;\n  z-index: 0;\n"]);return w=function(){return e},e}function N(){var e=Object(i.a)(["\n  background: #fff;\n  margin: 0 auto 2em auto;\n  padding: 35px 30px;\n  box-shadow: 5px 5px 15px -1px rgba(0, 0, 0, 0.3);\n\n  .post_header {\n    .top {\n      display: flex;\n      justify-content: space-between;\n      h1 {\n        color: #4c5c68;\n      }\n    }\n    h2 {\n      font-size: 1em;\n      font-weight: 400;\n      color: #9c9c9c;\n      margin-bottom: 3em;\n      text-decoration: underline;\n    }\n    span {\n      color: #9c9c9c;\n    }\n  }\n\n  .post_footer {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 3em;\n  }\n  .blog_content {\n    font-size: 1em;\n    border-left: 5px solid #8ee5ee;\n    padding-left: 15px;\n  }\n\n  .likeIcon {\n    padding: 0.5em;\n    font-size: 1.5em;\n    color: rgb(206, 85, 85);\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  .num {\n    color: black;\n    font-size: 0.5em;\n    margin-left: 0.3em;\n  }\n  &:hover {\n    box-shadow: 5px 5px 20px -1px rgba(0, 0, 0, 0.3);\n  }\n  @media (max-width: 575.98px) {\n    background: #fff;\n    margin: 0 auto 2em auto;\n    padding: 35px 30px;\n    box-shadow: 5px 5px 15px -1px rgba(0, 0, 0, 0.3);\n  }\n"]);return N=function(){return e},e}var T=j.a.div(N()),C=Object(j.a)(u.d)(w()),_=Object(j.a)(u.d)(k()),S=Object(s.b)((function(e){return{user:e.user}}),{getPostById:h,likePost:function(e){return function(t){var n,a;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{"Content-Type":"application/json"}},r.prev=1,r.next=4,p.a.awrap(f.a.post("/api/posts/like/".concat(e),n));case 4:a=r.sent,t({type:"LIKE",payload:a.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}}),null,null,[[1,8]])}},deletePost:v})((function(e){var t,n=e.post,o=e.likePost,c=e.user,i=e.deletePost,s=c.loading?"":c.isAuthenticated?c.user._id.toString():"";t=n.likes.includes(s);var u=Object(a.useState)(),m=Object(l.a)(u,2),p=(m[0],m[1]);return r.a.createElement(T,null,r.a.createElement("div",{className:"post_header"},r.a.createElement("div",{className:"top"},r.a.createElement("h1",null,n.title),!c.loading&&c.user&&c.user.isAdmin?r.a.createElement(_,{onClick:function(){i(n._id)},color:"elegant"},"DELETE"):""),r.a.createElement("span",null,"By ",n.name),r.a.createElement("h2",null,n.date.slice(0,10))),r.a.createElement("div",{className:"blog_content"},O()(n.content)),r.a.createElement("div",{className:"post_footer"},r.a.createElement(C,null,r.a.createElement(x.HashLink,{to:"post/".concat(n._id)},"More Read ...")),!c.loading&&c.isAuthenticated?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){return p(t),void o(n._id)},className:t?"fas fa-heart likeIcon":"far fa-heart likeIcon"},r.a.createElement("span",{className:"num"},n.likes.length)),r.a.createElement(x.HashLink,{to:"post/".concat(n._id,"#addComment")},r.a.createElement("i",{className:"far fa-comment likeIcon "},r.a.createElement("span",{className:"num"}," ",n.comments.length)))):""))})),L=Object(s.b)((function(e){return{post:e.post}}),{getPosts:function(){return function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(f()("/api/posts"));case 2:t=n.sent,console.log(t.data),e({type:"GET_POSTS",payload:t.data});case 5:case"end":return n.stop()}}))}}})((function(e){var t=e.getPosts,n=e.post,o=n.posts,c=n.loading;return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",null,c?"loading":o.map((function(e){return r.a.createElement(S,{key:e._id,post:e})})))})),A=n(14),I=n(117),D=n.n(I),H=n(118),R=n.n(H),q=n(39);function P(){var e=Object(i.a)(["\n  max-width: 1020px;\n  margin: 0 auto;\n  padding: 2em;\n\n  .title {\n    margin-bottom: 0.5em;\n  }\n  .btnContaner {\n    display: flex;\n    justify-content: center;\n  }\n\n  @media (max-width: 575.98px) {\n    margin: 0 auto;\n    padding: 1em;\n  }\n"]);return P=function(){return e},e}function z(){var e=Object(i.a)(["\n  padding: 0.2em 0.8em;\n  margin-top: 2em;\n"]);return z=function(){return e},e}var M=Object(j.a)(u.d)(z()),G=j.a.div(P()),U=Object(s.b)(null,{addPost:function(e){return function(t){var n,a;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{"Content-Type":"application/json"}},r.prev=1,r.next=4,p.a.awrap(f.a.post("/api/posts",e,n));case 4:a=r.sent,t({type:"ADD_POST",payload:a.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.error(r.t0);case 11:case"end":return r.stop()}}),null,null,[[1,8]])}}})((function(e){var t=e.addPost,n=Object(q.k)(),o={title:"",content:""},c=Object(a.useState)(o),i=Object(l.a)(c,2),s=i[0],u=i[1];return r.a.createElement(G,null,r.a.createElement("input",{className:"title",type:"text",value:s.title,onChange:function(e){u(Object(A.a)({},s,{title:e.target.value}))},placeholder:"Title"}),r.a.createElement(D.a,{editor:R.a,onChange:function(e,t){var n=t.getData();u(Object(A.a)({},s,{content:n}))},config:{placeholder:"Type the content here!"}}),r.a.createElement("div",{className:"btnContaner"},r.a.createElement(M,{onClick:function(){t(s),u(o),n.push("/")}},"Add Post")))})),Y=n(18),F=function(e){e?f.a.defaults.headers.common["auth-token"]=e:delete f.a.defaults.headers.common["auth-token"]},B=function(){return function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return localStorage.token&&F(localStorage.token),n.prev=1,n.next=4,p.a.awrap(f.a.get("/api/users"));case 4:"ron@benaish.com"===(t=n.sent).data.email?t.data.isAdmin=!0:t.data.isAdmin=!1,e({type:"USER_LOADED",payload:t.data}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e({type:"AUTH_ERROR"});case 12:case"end":return n.stop()}}),null,null,[[1,9]])}},J=function(){return function(e){e({type:"LOGOUT"})}},K=n(266),V=n(260),W=n(265),Q=n(267),X=n(264),Z=n(268),$=n(58),ee=n.n($),te=n(119),ne=n.n(te),ae=n(120),re=n.n(ae),oe=n(71),ce=n.n(oe);function ie(){var e=Object(i.a)(["\n  width: 250px;\n"]);return ie=function(){return e},e}function le(){var e=Object(i.a)(["\n  display: none;\n  @media (max-width: 575.98px) {\n    display: flex;\n    justify-content: space-between;\n    background-color: #333333be;\n    position: fixed;\n    width: 100%;\n    height: 3em;\n    z-index: 1;\n    .bars {\n      color: white;\n      margin-left: 1em;\n      margin-top: 0.5em;\n      font-size: 1.5em;\n    }\n    .hello {\n      display: block;\n      color: white;\n      margin: 0.8em;\n    }\n  }\n"]);return le=function(){return e},e}var se=j.a.div(le()),ue=j.a.div(ie()),me=Object(s.b)((function(e){return{user:e.user}}),{logout:J})((function(e){var t=e.user,n=e.logout,a=r.a.useState({left:!1}),o=Object(l.a)(a,2),c=o[0],i=o[1],s=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&i({left:t})}};return r.a.createElement("div",null,r.a.createElement(se,null,r.a.createElement("i",{className:"fas fa-bars bars",onClick:s(0,!0)}),r.a.createElement("div",{className:"hello"},t.user?r.a.createElement("div",null,r.a.createElement("span",null,"Hello, ",t.user.name)):"")),r.a.createElement(K.a,{open:c.left,onClose:s(0,!1),onOpen:s(0,!0)},r.a.createElement(ue,{role:"presentation",onClick:s(0,!1),onKeyDown:s(0,!1)},r.a.createElement(V.a,null,r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ne.a,{color:"action"})),r.a.createElement(x.HashLink,{smooth:!0,to:"/#top"},r.a.createElement(Z.a,{primary:"Home"}))),r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ee.a,null)),r.a.createElement(x.HashLink,{to:"/about"},r.a.createElement(Z.a,{primary:"About"}))),r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ee.a,null)),r.a.createElement(x.HashLink,{to:"/contact"},r.a.createElement(Z.a,{primary:"Contact"}))),r.a.createElement(Q.a,{button:!0},t.user&&t.user.isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,null,r.a.createElement(ee.a,null)),r.a.createElement(x.HashLink,{to:"/addpost"},r.a.createElement(Z.a,{primary:"Add post"}))):"")),r.a.createElement(W.a,null),r.a.createElement(V.a,null,t.isAuthenticated?r.a.createElement(x.HashLink,{to:"/",onClick:function(e){return n()}},r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ce.a,null)),r.a.createElement(Z.a,{primary:"Logout"}))):r.a.createElement("div",null,r.a.createElement(x.HashLink,{smooth:!0,to:"/login#login"},r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ce.a,null)),r.a.createElement(Z.a,{primary:"login"}))),r.a.createElement(x.HashLink,{smooth:!0,to:"/register#register"},r.a.createElement(Q.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(re.a,null)),r.a.createElement(Z.a,{primary:"Register"}))))))))})),pe=n(30);function de(){var e=Object(i.a)(['\n  display: flex;\n  justify-content: space-between;\n  padding: 0.2em 3em;\n  height: 4em;\n  ul {\n    display: flex;\n    height: 3.8em;\n    align-items: center;\n  }\n  ul li a {\n    font-family: "Cairo", sans-serif;\n    padding-right: 2.5em;\n    color: #dcdcdd;\n    font-size: 1em;\n  }\n  ul li a:hover {\n    color: #f1faee;\n  }\n  .greeting {\n    font-family: "Cairo", sans-serif;\n    padding-left: 1em;\n    color: #dcdcdd;\n    font-size: 1em;\n  }\n']);return de=function(){return e},e}function fe(){var e=Object(i.a)(["\n  position: fixed;\n  top: 0;\n  width: 100%;\n  background-color: #2c2c2c;\n  height: 4em;\n  overflow: hidden;\n  z-index: 99;\n\n  @media (max-width: 767.98px) {\n    display: none;\n  }\n"]);return fe=function(){return e},e}function Ee(){var e=Object(i.a)(['\n  height: 100vh;\n\n  .logo {\n    font-family: "Inria Serif", serif;\n    font-weight: bold;\n    margin: 0 auto;\n    font-size: 4rem;\n    line-height: 100vh;\n    text-align: center;\n    color: #f1faee;\n    animation: App-logo-spin 0.8s ease-out;\n    height: 40vmin;\n\n    @keyframes App-logo-spin {\n      from {\n        transform: scaleY(-2);\n      }\n      to {\n        transform: scaleY(1);\n      }\n    }\n  }\n\n  &::after {\n    content: "";\n    background: url(https://cdn.pixabay.com/photo/2016/03/12/23/18/man-1253004_960_720.jpg);\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    opacity: 0.8;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    position: absolute;\n    z-index: -1;\n  }\n']);return Ee=function(){return e},e}var ge=j.a.div(Ee()),be=j.a.div(fe()),he=j.a.div(de()),ve=Object(s.b)((function(e){return{user:e.user}}),{logout:J})((function(e){var t=e.user,n=e.logout;return r.a.createElement("div",{id:"top"},r.a.createElement(me,null),r.a.createElement(ge,null,r.a.createElement(be,null,r.a.createElement(he,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(pe.HashLink,{smooth:!0,to:"/#top"},"HOME")),r.a.createElement("li",null,r.a.createElement(pe.HashLink,{scrollOffset:-20,smooth:!0,to:"about#about"},"ABOUT")),t.user&&t.user.isAdmin?r.a.createElement("li",null,r.a.createElement(Y.Link,{to:"/addpost"},"ADD POST")):"",r.a.createElement("li",null,r.a.createElement(pe.HashLink,{smooth:!0,to:"/Contact#contact"},"CONTACT"))),r.a.createElement("ul",null,t.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"greeting"},"Hello ".concat(t.user.name,"  ")),r.a.createElement("li",{className:"greeting"},r.a.createElement(Y.Link,{to:"/",onClick:function(e){return n()}},"LOGOUT"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(pe.HashLink,{smooth:!0,to:"/login#login"},"LOGIN")),r.a.createElement("li",null,r.a.createElement(pe.HashLink,{smooth:!0,to:"/register#register"},"REGISTER")))))),r.a.createElement("h1",{className:"logo"},"MY STORY")))}));function xe(){var e=Object(i.a)(["\n  .shape {\n    clip-path: polygon(50% 60%, 100% 0, 100% 100%, 0 100%, 0 0);\n    background-color: #46494c;\n    height: 5em;\n    width: 100%;\n  }\n  .footer {\n    background-color: #46494c;\n    color: white;\n  }\n  .social {\n    display: flex;\n    justify-content: center;\n    font-size: 2em;\n    padding: 1em;\n  }\n  .socialItem {\n    padding: 0.5em;\n  }\n  .copyright {\n    padding: 1em;\n  }\n"]);return xe=function(){return e},e}var ye=j.a.div(xe()),Oe=function(){return r.a.createElement(ye,null,r.a.createElement("div",{className:"shape"}),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"social"},r.a.createElement("i",{className:"fab fa-twitter-square socialItem"}),r.a.createElement("i",{className:"fab fa-facebook-square socialItem"}),r.a.createElement("i",{className:"fab fa-github socialItem"}),r.a.createElement("i",{className:"fab fa-linkedin socialItem"})),r.a.createElement("div",{className:"copyright"},"\xa9 2019 Copyright Text ")))},je=Object(s.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return r.a.createElement(u.h,null,r.a.createElement(u.m,{center:!0},r.a.createElement(u.g,{md:"6"},t?t.map((function(e){return r.a.createElement(u.b,{color:e.type,key:e.id},e.msg)})):"")))}));function ke(){var e=Object(i.a)(["\n  max-width: 1020px;\n  margin: 0 auto;\n  padding: 2em;\n\n  @media (max-width: 575.98px) {\n    margin: 0 auto;\n    padding: 1em;\n  }\n"]);return ke=function(){return e},e}var we=j.a.div(ke()),Ne=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(we,null,r.a.createElement(je,null),r.a.createElement("div",null,e.children)),r.a.createElement(Oe,null))},Te=n(37),Ce=n(121),_e=n(122),Se=n(28),Le={posts:[],post:{loading:!0},loading:!0,error:{}},Ae={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},Ie=[],De=Object(Te.combineReducers)({post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_POSTS":return Object(A.a)({},e,{loading:!1,posts:a.reverse()});case"ADD_POST":return Object(A.a)({},e,{loading:!1,posts:[a].concat(Object(Se.a)(e.posts))});case"DELETE_POST":return Object(A.a)({},e,{posts:e.posts.filter((function(e){return e._id!==a})),loading:!1});case"DELETE_COMMENT":var r=e.post;return r.comments=r.comments.filter((function(e){return e._id.toString()!==a})),Object(A.a)({},e,{post:r});case"UPDATE_COMMENT":return Object(A.a)({},e,{post:Object(A.a)({},e.post,{comment:[a].concat(Object(Se.a)(e.post.comments))})});case"GET_POST_BY_ID":var o={_id:a._id,name:a.name,likes:a.likes,title:a.title,content:a.content,comments:a.comments,date:a.date};return Object(A.a)({},e,{post:o});case"ADD_COMMENT":return Object(A.a)({},e,{post:Object(A.a)({},e.post,{comments:[a].concat(Object(Se.a)(e.post.comments))})});case"LIKE":var c=e.posts,i=c.map((function(e){return e._id===a._id?a:e}));return Object(A.a)({},e,{posts:i});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"USER_LOADED":return Object(A.a)({},e,{isAuthenticated:!0,loading:!1,user:a});case"REGISTER":case"LOG_IN":return localStorage.setItem("token",a),Object(A.a)({},e,{token:a,isAuthenticated:!0,loading:!1});case"LOGOUT":case"AUTH_ERROR":return localStorage.removeItem("token"),Object(A.a)({},e,{token:null,isAuthenticated:!1,loading:!1,user:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ALERT":return[].concat(Object(Se.a)(e),[a]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==a}));default:return e}}}),He=[_e.a],Re=Object(Te.createStore)(De,{},Object(Ce.composeWithDevTools)(Te.applyMiddleware.apply(void 0,He))),qe=n(22),Pe=Object(s.b)((function(e){return{user:e.user}}),{login:function(e){var t=e.email,n=e.password;return function(e){var a,r,o;return p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:n}),c.prev=2,c.next=5,p.a.awrap(f.a.post("/api/users/login",r,a));case 5:o=c.sent,e({type:"LOG_IN",payload:o.data}),e(B()),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),e(b(c.t0.response.data,"danger"));case 13:case"end":return c.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.login,n=e.user.user,o=Object(a.useState)({email:"",password:""}),c=Object(l.a)(o,2),i=c[0],s=c[1],m=Object(q.k)();n&&m.push("/");var p=function(e){s(Object(A.a)({},i,Object(qe.a)({},e.target.type,e.target.value)))};return r.a.createElement(u.m,{center:!0,className:"my-4 ",id:"login"},r.a.createElement(u.g,{md:"6"},r.a.createElement(u.e,null,r.a.createElement(u.f,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(i)}(e)}},r.a.createElement("p",{className:"h4 text-center py-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(u.j,{label:"Your email",icon:"envelope",group:!0,type:"email",onChange:function(e){return p(e)}}),r.a.createElement(u.j,{label:"Your password",icon:"lock",group:!0,type:"password",onChange:function(e){return p(e)}})),r.a.createElement("div",{className:"text-center py-4 mt-3"},r.a.createElement(u.d,{outline:!0,color:"cyan",type:"submit"},"LOGIN")),r.a.createElement("p",{style:{fontSize:"0.8em",color:"#37474F"}},"Dont have an acount?",r.a.createElement(pe.HashLink,{smooth:!0,style:{color:"#37474F"},to:"/register#register"},"REGISTER")))))))})),ze=Object(s.b)((function(e){return{user:e.user}}),{register:function(e){var t=e.name,n=e.email,a=e.password;return function(e){var r,o,c;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r={headers:{"Content-Type":"application/json"}},o=JSON.stringify({name:t,email:n,password:a}),i.prev=2,i.next=5,p.a.awrap(f.a.post("/api/users/register",o,r));case 5:c=i.sent,console.log(c.data),e({type:"REGISTER",payload:c.data}),e(B()),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(2),e(b(i.t0.response.data,"danger"));case 14:case"end":return i.stop()}}),null,null,[[2,11]])}}})((function(e){var t=e.register,n=e.user.user,o=Object(a.useState)({name:"",email:"",password:""}),c=Object(l.a)(o,2),i=c[0],s=c[1],m=Object(q.k)();n&&m.push("/");var p=function(e){s(Object(A.a)({},i,Object(qe.a)({},e.target.name,e.target.value)))};return r.a.createElement(u.m,{center:!0,className:"my-4"},r.a.createElement(u.g,{md:"6",id:"register"},r.a.createElement(u.e,null,r.a.createElement(u.f,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(i),console.log(i)}(e)}},r.a.createElement("p",{className:"h4 text-center py-4"},"Sign up"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(u.j,{label:"Your name",icon:"envelope",group:!0,type:"text",name:"name",onChange:function(e){return p(e)}}),r.a.createElement(u.j,{label:"Your email",icon:"envelope",group:!0,name:"email",onChange:function(e){return p(e)}}),r.a.createElement(u.j,{label:"Your password",icon:"lock",group:!0,type:"password",name:"password",onChange:function(e){return p(e)}})),r.a.createElement("div",{className:"text-center py-4 mt-3"},r.a.createElement(u.d,{outline:!0,color:"cyan",type:"submit"},"REGISTER")),r.a.createElement("p",{style:{fontSize:"0.8em",color:"#37474F"}},"Alreay have an acount?"," ",r.a.createElement(pe.HashLink,{smooth:!0,style:{color:"#37474F"},to:"/login#login"},"LOGIN"," ")))))))})),Me=n(4),Ge=Object(s.b)((function(e){return{user:e.user.user}}))((function(e){var t=e.component,n=e.user,a=Object(Me.a)(e,["component","user"]);return r.a.createElement(q.d,Object.assign({},a,{render:function(e){return n&&n.isAdmin?r.a.createElement(t,e):r.a.createElement(q.c,{to:{pathname:"/",from:e.location}})}}))}));function Ue(){var e=Object(i.a)(["\n  padding: 0.2em 1em;\n  font-size: 1em;\n"]);return Ue=function(){return e},e}function Ye(){var e=Object(i.a)(["\n  max-width: 30em;\n  border-radius: 0.5em;\n  box-shadow: 5px 5px 15px -1px rgba(0, 0, 0, 0.3);\n  margin: 3em auto;\n  text-align: center;\n  color: #8a8a8a;\n  .commentForm {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .commentInput {\n    width: 95%;\n    height: 7em;\n    resize: none;\n    overflow: hidden;\n    border: 1px solid rgba(204, 204, 204, 0.267);\n  }\n"]);return Ye=function(){return e},e}var Fe=j.a.div(Ye()),Be=Object(j.a)(u.d)(Ue()),Je=Object(s.b)((function(e){return{user:e.user.user,postId:e.post.post._id}}),{addComment:function(e,t){return function(n){var a,r;return p.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a={headers:{"Content-Type":"application/json"}},o.prev=1,o.next=4,p.a.awrap(f.a.post("/api/posts/comments/".concat(e),t,a));case 4:r=o.sent,n({type:"ADD_COMMENT",payload:r.data}),o.next=10;break;case 8:o.prev=8,o.t0=o.catch(1);case 10:case"end":return o.stop()}}),null,null,[[1,8]])}}})((function(e){var t=e.addComment,n=e.user,o=e.postId,c=Object(a.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1];return r.a.createElement(Fe,null,r.a.createElement("h2",null,"Add comment"),r.a.createElement("form",{className:"commentForm",onSubmit:function(e){return function(e){e.preventDefault();var a={text:s,name:n.name};t(o,a),u("")}(e)}},r.a.createElement("textarea",{value:s,onChange:function(e){return u(e.target.value)},type:"text",className:"commentInput"}),r.a.createElement(Be,{type:"submit"},"Reply")))}));function Ke(){var e=Object(i.a)(["\n  width: 4em;\n  margin: 0;\n  padding: 0;\n"]);return Ke=function(){return e},e}function Ve(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 30em;\n  border-radius: 0.2em;\n  box-shadow: 2px 2px 10px -1px rgba(0, 0, 0, 0.2);\n  margin: 1em auto;\n  text-align: center;\n  color: #8a8a8a;\n  padding: 0.5em 2em 2em 0;\n  overflow: hidden;\n\n  .top {\n    display: flex;\n    justify-content: space-between;\n  }\n  .close {\n    font-size: 1em;\n    margin: 0.5em -1em 0 0;\n  }\n  .edit {\n    margin: 0.5em 1em 0 0;\n  }\n  .editMod {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n\n    textarea {\n      color: #8a8a8a;\n      width: 90%;\n      overflow: hidden;\n      resize: none;\n      height: 8em;\n      align-self: flex-end;\n      border: 1px solid #dcdcdd;\n      border-radius: 5px;\n    }\n    button {\n      align-self: center;\n      margin-top: 1em;\n    }\n  }\n  .left {\n    display: flex;\n    align-items: flex-start;\n    margin-left: 1.5em;\n    .name {\n      font-size: 1.5em;\n    }\n    .date {\n      margin: 0.8em 0 0 1em;\n      font-size: 0.8em;\n    }\n  }\n  .main {\n    display: flex;\n    justify-content: center;\n    .content {\n      margin: 0;\n    }\n  }\n"]);return Ve=function(){return e},e}var We=j.a.div(Ve()),Qe=Object(j.a)(u.d)(Ke()),Xe=Object(s.b)((function(e){return{post:e.post.post,user:e.user.user}}),{deleteComment:function(e,t){return function(n){return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(f.a.delete("/api/posts/comments/".concat(e,"/").concat(t)));case 3:n({type:"DELETE_COMMENT",payload:t}),n(b("Comment removed","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(b(a.t0.response.data.msg,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},updateComment:function(e,t,n){return function(a){var r,o,c;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r={headers:{"Content-Type":"application/json"}},o={text:n},i.prev=2,i.next=5,p.a.awrap(f.a.put("/api/posts/comments/".concat(e,"/").concat(t),o,r));case 5:c=i.sent,a({type:"UPDATE_COMMENT",payload:{updatedText:c,commentID:t,postID:e}}),a(b("Comment updated","success")),i.next=15;break;case 11:i.prev=11,i.t0=i.catch(2),console.log(i.t0),a(b("Update failed","danger"));case 15:case"end":return i.stop()}}),null,null,[[2,11]])}}})((function(e){var t=e.comment,n=e.user,o=e.deleteComment,c=e.post,i=e.updateComment,s=Object(a.useState)(!1),u=Object(l.a)(s,2),m=u[0],p=u[1],d=Object(a.useState)(t.text),f=Object(l.a)(d,2),E=f[0],g=f[1];return r.a.createElement(We,null,r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"left"},r.a.createElement("p",{className:"name"},t.name),t.date?r.a.createElement("p",{className:"date"},t.date.slice(0,10)):r.a.createElement("p",{className:"date"},"NOW")),!n.loading&&n._id.toString()===t.author.toString()||!n.loading&&"ron@benaish.com"===n.email?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){o(c._id,t._id)},className:"far fa-times-circle close"}),r.a.createElement("i",{onClick:function(){return p(!m)},className:"fas fa-edit edit"})):""),r.a.createElement("div",{className:"main"},m?r.a.createElement("div",{className:"editMod"},r.a.createElement("textarea",{onChange:function(e){return g(e.target.value)},value:E}),r.a.createElement(Qe,{onClick:function(){return i(c._id,t._id,E),void p(!1)}},"Update")):r.a.createElement("p",{className:"content"},E)))})),Ze=Object(s.b)((function(e){return{post:e.post.post}}))((function(e){var t=e.post;return r.a.createElement("div",null,t.comments.map((function(e){return r.a.createElement(Xe,{key:e._id,comment:e})})),r.a.createElement(Je,{id:"addComment"}))}));function $e(){var e=Object(i.a)(["\n  padding: 0 0.8em 0 0.8em;\n  z-index: 0;\n  height: 1.3em;\n"]);return $e=function(){return e},e}function et(){var e=Object(i.a)(["\n  h3 {\n    text-align: center;\n  }\n  h3 a {\n    color: black;\n  }\n\n  .post_header {\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return et=function(){return e},e}var tt=j.a.div(et()),nt=Object(j.a)(u.d)($e()),at=Object(s.b)((function(e){return{post:e.post.post,user:e.user}}),{getPostById:h,deletePost:v})((function(e){var t=e.post,n=e.getPostById,o=e.match,c=e.user,i=e.deletePost;Object(a.useEffect)((function(){n(o.params.id)}),[o.params.id,n]);var l=Object(q.k)();return r.a.createElement(tt,null,t.loading?"":r.a.createElement("div",null,r.a.createElement("div",{className:"post_header"},r.a.createElement("h1",null,"".concat(t.title)),!c.loading&&c.user.isAdmin?r.a.createElement(nt,{onClick:function(){return i(t._id),void l.push("/")},color:"elegant"},"DELETE"):""),r.a.createElement("div",null,O()(t.content)),c.isAuthenticated?r.a.createElement(Ze,null):r.a.createElement("h3",null,r.a.createElement(pe.HashLink,{to:"/login#login"},"Login")," to see the comments")))}));function rt(){var e=Object(i.a)(["\n  color: #46494c;\n  border-bottom: 0.1em solid #2bbbad;\n  width: fit-content;\n  padding-bottom: 0.2em;\n  margin-bottom: 0.5em;\n"]);return rt=function(){return e},e}var ot=j.a.h2(rt()),ct=function(){return r.a.createElement("div",{id:"about"},r.a.createElement(ot,null,"About me"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis!"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis!"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis!"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum, sapiente aperiam architecto obcaecati qui impedit! Autem aliquam corrupti saepe perferendis consequatur explicabo totam fugiat, eum harum veniam accusamus, esse corporis!"))};function it(){var e=Object(i.a)(["\n  padding: 0.5em 1.5em;\n"]);return it=function(){return e},e}function lt(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .title {\n    color: #46494c;\n    border-bottom: 0.1em solid #2bbbad;\n    padding-bottom: 0.2em;\n    margin-bottom: 0.5em;\n  }\n  form {\n    padding: 1em;\n    width: 100%;\n  }\n  textarea,\n  input {\n    margin: 0.3em;\n    width: 100%;\n    resize: none;\n    overflow: hidden;\n    border: 1px solid #80808056;\n    padding: 0.5em;\n  }\n\n  .btnContainer {\n    display: flex;\n    justify-content: center;\n  }\n"]);return lt=function(){return e},e}var st=j.a.div(lt()),ut=Object(j.a)(u.d)(it()),mt=function(){var e={title:"",content:""},t=Object(a.useState)(e),n=Object(l.a)(t,2),o=n[0],c=n[1],i=function(e){return c(Object(A.a)({},o,Object(qe.a)({},e.target.name,e.target.value)))};return r.a.createElement(st,{id:"contact"},r.a.createElement("h2",{className:"title"},"Contact Me"),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),c(e)}(t)}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"title",placeholder:"Subject",required:"required",value:o.title,onChange:function(e){return i(e)}})),r.a.createElement("div",null,r.a.createElement("textarea",{name:"content",placeholder:"Content",required:"required",value:o.content,onChange:function(e){return i(e)}})),r.a.createElement("div",{className:"btnContainer"},r.a.createElement(ut,{type:"submit"},"SEND"))))};localStorage.token&&F(localStorage.token);var pt=function(){return Object(a.useEffect)((function(){localStorage.token&&Re.dispatch(B())}),[]),r.a.createElement(Ne,null,r.a.createElement("div",null,r.a.createElement(q.g,null,r.a.createElement(q.d,{exact:!0,path:"/",component:L}),r.a.createElement(Ge,{path:"/addpost",component:U}),r.a.createElement(q.d,{path:"/login",component:Pe}),r.a.createElement(q.d,{path:"/register",component:ze}),r.a.createElement(q.d,{path:"/post/:id",component:at}),r.a.createElement(q.d,{path:"/about",component:ct}),r.a.createElement(q.d,{path:"/Contact",component:mt}))))};c.a.render(r.a.createElement(s.a,{store:Re},r.a.createElement(Y.BrowserRouter,null,r.a.createElement(pt,null))),document.getElementById("root"))}},[[127,1,2]]]);